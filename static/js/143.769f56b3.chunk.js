"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[143],{426:(e,t,r)=>{r.d(t,{LF:()=>n,Nt:()=>o,UM:()=>h,dk:()=>l,q8:()=>c});var a=r(213);const s="d934da8882e5322d29af0f8a1ae42476",i=a.A.create({baseURL:"https://api.themoviedb.org/3",timeout:1e4}),o=async()=>{try{return(await i.get(`/trending/movie/day?api_key=${s}`)).data.results}catch(e){return console.error("Error fetching trending movies:",e),[]}},c=async e=>{try{return(await i.get(`/search/movie?api_key=${s}&query=${e}`)).data.results}catch(t){return console.error("Error searching movies:",t),[]}},n=async e=>{try{return(await i.get(`/movie/${e}?api_key=${s}`)).data}catch(t){return console.error(`Error fetching details for movie ${e}:`,t),null}},l=async e=>{try{return(await i.get(`/movie/${e}/credits?api_key=${s}`)).data.cast}catch(t){return console.error(`Error fetching credits for movie ${e}:`,t),[]}},h=async e=>{try{return(await i.get(`/movie/${e}/reviews?api_key=${s}`)).data.results}catch(t){return console.error(`Error fetching reviews for movie ${e}:`,t),[]}}},143:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var a=r(43),s=r(426),i=r(475),o=r(610),c=r(579);const n=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)([]),[l,h]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null),[p,m]=(0,i.ok)(),{addSearchTerm:y}=(0,a.useContext)(o.m),v=(0,a.useCallback)((async e=>{h(!0),d(null);try{const t=await(0,s.q8)(e);n(t),y(e)}catch(t){console.error(t),d("Failed to fetch search results.")}finally{h(!1)}}),[y]);(0,a.useEffect)((()=>{const e=p.get("query")||"";t(e),e&&v(e)}),[p,v]);return(0,c.jsxs)("div",{children:[(0,c.jsxs)("form",{onSubmit:t=>{t.preventDefault(),m({query:e})},children:[(0,c.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search movies"}),(0,c.jsx)("button",{type:"submit",children:"Search"})]}),l&&(0,c.jsx)("p",{children:"Loading..."}),u&&(0,c.jsx)("p",{children:u}),(0,c.jsx)("ul",{children:r.length>0?r.map((e=>(0,c.jsx)("li",{children:(0,c.jsxs)(i.N_,{to:`/movies/${e.id}`,children:[(0,c.jsx)("img",{src:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750",alt:e.title,style:{width:"150px",height:"225px"}}),(0,c.jsx)("p",{children:e.title})]})},e.id))):!l&&(0,c.jsx)("li",{children:"No movies found"})})]})}}}]);
//# sourceMappingURL=143.769f56b3.chunk.js.map