"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[117],{426:(e,t,r)=>{r.d(t,{LF:()=>n,Nt:()=>i,UM:()=>m,dk:()=>l,q8:()=>c});var a=r(213);const s="d934da8882e5322d29af0f8a1ae42476",o=a.A.create({baseURL:"https://api.themoviedb.org/3",timeout:1e4}),i=async()=>{try{return(await o.get(`/trending/movie/day?api_key=${s}`)).data.results}catch(e){return console.error("Error fetching trending movies:",e),[]}},c=async e=>{try{return(await o.get(`/search/movie?api_key=${s}&query=${e}`)).data.results}catch(t){return console.error("Error searching movies:",t),[]}},n=async e=>{try{return(await o.get(`/movie/${e}?api_key=${s}`)).data}catch(t){return console.error(`Error fetching details for movie ${e}:`,t),null}},l=async e=>{try{return(await o.get(`/movie/${e}/credits?api_key=${s}`)).data.cast}catch(t){return console.error(`Error fetching credits for movie ${e}:`,t),[]}},m=async e=>{try{return(await o.get(`/movie/${e}/reviews?api_key=${s}`)).data.results}catch(t){return console.error(`Error fetching reviews for movie ${e}:`,t),[]}}},117:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(43),s=r(426),o=r(475),i=r(610);const c="Movies_movieSearch__hu+8x",n="Movies_searchForm__sbbAK",l="Movies_searchInput__GacC2",m="Movies_searchButton__aCnFG",u="Movies_moviesList__JgTu8",h="Movies_movieItem__qh1nf",d="Movies_moviePoster__QbbDJ",_="Movies_noResult__KBz17",v="Movies_loadingMessage__q+mPd",p="Movies_errorMessage__+Yms-";var g=r(184),y=r(579);const f=()=>{const[e,t]=(0,a.useState)(""),[r,f]=(0,a.useState)([]),[x,k]=(0,a.useState)(!1),[$,b]=(0,a.useState)(null),[w,M]=(0,o.ok)(),{addSearchTerm:N}=(0,a.useContext)(i.m),j=(0,a.useCallback)((async e=>{k(!0),b(null);try{const t=await(0,s.q8)(e);f(t),N(e)}catch(t){console.error(t),b("Failed to fetch search results.")}finally{k(!1)}}),[N]);(0,a.useEffect)((()=>{const e=w.get("query")||"";t(e),e&&j(e)}),[w,j]);return(0,y.jsxs)("div",{className:c,children:[(0,y.jsxs)("form",{onSubmit:t=>{t.preventDefault(),M({query:e})},className:n,children:[(0,y.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search movies",className:l}),(0,y.jsx)("button",{type:"submit",className:m,children:"Search"})]}),x&&(0,y.jsx)("p",{className:v,children:"Loading..."}),$&&(0,y.jsx)("p",{className:p,children:$}),(0,y.jsx)("ul",{className:u,children:r.length>0?r.map((e=>(0,y.jsx)("li",{className:h,children:(0,y.jsxs)(o.N_,{to:`/movies/${e.id}`,children:[(0,y.jsx)("img",{src:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:g,alt:e.title,className:d}),(0,y.jsx)("p",{children:e.title})]})},e.id))):!x&&(0,y.jsx)("li",{className:_,children:"No movies found"})})]})}},184:(e,t,r)=>{e.exports=r.p+"static/media/noimg.766050a83a9c288363de.png"}}]);
//# sourceMappingURL=117.77c743f7.chunk.js.map