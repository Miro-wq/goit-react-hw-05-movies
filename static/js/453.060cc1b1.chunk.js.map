{"version":3,"file":"static/js/453.060cc1b1.chunk.js","mappings":"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","sources":["components/API/Api.jsx","webpack://react-homework-template/./src/components/Pages/Styles/MovieDetailes.module.css?0a70","components/Pages/MovieDetails.jsx"],"sourcesContent":["// import axios from 'axios';\n\n// const API_KEY = 'd934da8882e5322d29af0f8a1ae42476';\n// const BASE_URL = 'https://api.themoviedb.org/3';\n\n// export const getTrendingMovies = async () => {\n//   const response = await axios.get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n//   return response.data.results;\n// };\n\nimport axios from 'axios';\nconst API_KEY = 'd934da8882e5322d29af0f8a1ae42476';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst axiosInstance = axios.create({ baseURL: BASE_URL, timeout: 10000 });\n\nexport const getTrendingMovies = async () => {\n  try {\n    const response = await axiosInstance.get(\n      `/trending/movie/day?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error('Error fetching trending movies:', error);\n    return [];\n  }\n};\nexport const searchMovies = async query => {\n  try {\n    const response = await axiosInstance.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error('Error searching movies:', error);\n    return [];\n  }\n};\nexport const getMovieDetails = async movieId => {\n  try {\n    const response = await axiosInstance.get(\n      `/movie/${movieId}?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching details for movie ${movieId}:`, error);\n    return null;\n  }\n};\nexport const getMovieCredits = async movieId => {\n  try {\n    const response = await axiosInstance.get(\n      `/movie/${movieId}/credits?api_key=${API_KEY}`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.error(`Error fetching credits for movie ${movieId}:`, error);\n    return [];\n  }\n};\nexport const getMovieReviews = async movieId => {\n  try {\n    const response = await axiosInstance.get(\n      `/movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(`Error fetching reviews for movie ${movieId}:`, error);\n    return [];\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsContainer\":\"MovieDetailes_movieDetailsContainer__-ZDh6\",\"navLink\":\"MovieDetailes_navLink__JcgkW\",\"movieDetails\":\"MovieDetailes_movieDetails__vZDaC\",\"navContainer\":\"MovieDetailes_navContainer__QG+86\",\"navSeparator\":\"MovieDetailes_navSeparator__eprfU\"};","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams, Outlet, Link, useNavigate } from 'react-router-dom';\nimport { getMovieDetails } from 'components/API/Api';\nimport { SearchHistoryContext } from 'components/SearchHistory/SearchHistory';\nimport styles from './Styles/MovieDetailes.module.css';\n\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const navigate = useNavigate();\n  const { searchHistory } = useContext(SearchHistoryContext);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        const movieData = await getMovieDetails(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        console.error(\"Failed to fetch movie details:\", error);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n  if (!movie) return <div>Loading...</div>;\n\n  const handleGoBack = () => {\n    if (searchHistory.length > 0) {\n      const lastSearch = searchHistory[searchHistory.length - 1];\n      if (lastSearch) {\n        navigate(`/movies?query=${encodeURIComponent(lastSearch)}`);\n      } else {\n        navigate('/');\n      }\n    } else {\n      navigate('/');\n    }\n  };\n\n  return (\n    <div className={styles.movieDetailsContainer}>\n      <button onClick={handleGoBack}>Go back</button>\n      <h1>{movie.title}</h1>\n      <div className={styles.movieDetails}>\n        <img\n          src={movie.poster_path ? `${IMAGE_BASE_URL}${movie.poster_path}` : 'https://via.placeholder.com/500x750'}\n          alt={movie.title}\n        />\n        <div>\n          <p><strong>Overview:</strong> {movie.overview}</p>\n          <p><strong>Genres:</strong> {movie.genres.map(genre => genre.name).join(', ')}</p>\n          <p><strong>Release Date:</strong> {movie.release_date}</p>\n          <p><strong>Rating:</strong> {movie.vote_average}</p>\n        </div>\n      </div>\n      <nav className={styles.navContainer}>\n      <Link to=\"cast\" className={styles.navLink}>Cast</Link>\n      <span className={styles.navSeparator}>|</span>\n      <Link to=\"reviews\" className={styles.navLink}>Reviews</Link>\n    </nav>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","axiosInstance","axios","create","baseURL","timeout","getTrendingMovies","async","get","data","results","error","console","searchMovies","query","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","MovieDetails","useParams","movie","setMovie","useState","navigate","useNavigate","searchHistory","useContext","SearchHistoryContext","useEffect","movieData","fetchMovieDetails","_jsx","children","_jsxs","className","styles","onClick","handleGoBack","length","lastSearch","encodeURIComponent","title","src","poster_path","alt","overview","genres","map","genre","name","join","release_date","vote_average","Link","to","Outlet"],"sourceRoot":""}